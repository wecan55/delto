(function(){"use strict";define("lib/cookie",{get:function(e){if(document.cookie.length>0){var t,n=document.cookie.indexOf(e+"=");if(n!=-1)return n=n+e.length+1,t=document.cookie.indexOf(";",n),t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(n,t))}return""},set:function(e,t,n,r){return document.cookie=e+"="+escape(t)+(n==null?"":";expires="+n.toGMTString())+";path="+(r||"/"),this},remove:function(e,t){var n=new Date;n.setTime(n.getTime()-1);var r=this.get(e);r!=null&&(document.cookie=e+"="+r+";expires="+n.toGMTString()+";path="+(t||"/"))}}),"use strict",require(["lib/cookie"],function(e){function l(e){var t={};return e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=r}),t}function c(e){var t,n=[],r="";for(t in e)n.push(t+"="+e[t]);return r=n.join("&"),r}$("[data-action=select-city]").click(function(t){t.preventDefault();var n=$(this),r=n.attr("href"),i=$.trim(n.text()),s="",o=new Date,u=new Date,a=31536e6;i=="北京"?s="beijing":i=="上海"?s="shanghai":i=="深圳"&&(s="shenzhen"),u.setTime(o.getTime()+a),e.set("city",s,u),location.href=r});var t=document.documentElement.clientWidth,n=$(".crumb"),r=$(".mobileCrumb"),i=n.find(".topicMainMenu"),s={crumb:"crumb-focus",mainMenu:"main-menu-focus",priceScreen:"price-screen-focus"};t<=767?$(".priceScreen").addClass("mobilePriceScreen").removeClass("priceScreen"):$(".mobilePriceScreen").addClass("priceScreen").removeClass("mobilePriceScreen");var o=$(".priceScreen"),u=$(".priceScreenBtn"),a=$(".mobilePriceScreen"),f=a.find(".priceScreenBtn");i.find("li").mouseover(function(){var e=$(this),t=e.find(".topicDropWrap"),r=e.offset().top-n.offset().top+e.height()-2;t.length>0&&(e.addClass(s.mainMenu),t.css("top",r))}).mouseout(function(){$(this).removeClass(s.mainMenu)}),r.click(function(e){a.removeClass(s.priceScreen),$(this).find(".topicDropWrap").length>0&&!r.hasClass(s.crumb)?(e.preventDefault(),r.addClass(s.crumb)):r.removeClass(s.crumb)}),f.click(function(e){e.preventDefault(),r.removeClass(s.crumb),a.hasClass(s.priceScreen)?a.removeClass(s.priceScreen):a.addClass(s.priceScreen)}),u.click(function(e){var t=o.find(".topicDropWrap");o.hasClass(s.priceScreen)?o.removeClass(s.priceScreen):o.addClass(s.priceScreen)}),$(document).mouseup(function(e){var t=o;!t.is(e.target)&&t.has(e.target).length===0&&t.removeClass(s.priceScreen)}),$(document).delegate(".priceSectionBtn","click",function(){var t=$(this).siblings(".lowPrice").val()||0,n=$(this).siblings(".highPrice").val()||null,r=window.location.href,i=r.split("?")[0],s=l(r),o,u;s.price_floor=t,n?s.price_cap=n:delete s.price_cap,o=c(s),u=i+"?"+o,window.zhuge&&zhuge.track("分类-筛选",{price:t+"-"+n,city:e.get("city")||"beijing"}),window.location.href=u}),$("html").click(function(e){var t=$(".dropSortDefault"),n=t.parent(),r="drop-select-open";if(n.length&&$.contains(n[0],e.target)){if(!n.hasClass(r))return n.addClass(r),t.attr("data-action","closeSortList"),!1}else n.removeClass(r),t.attr("data-action","openSortList")}),$("html").delegate("*[data-action=closeSortList]","click",function(e){var t=$(this),n="drop-select-open",r=t.parents(".dropSortWrap"),i=$(".dropSortDefault");if(r.length)return r.removeClass(n),i.attr("data-action","openSortList"),!1}),$(document).click(function(e){var t=$("a[data-action=openCityList]"),n=$(".dropCityDefault"),r=n.parent(),i="drop-select-open";if($.contains(r[0],e.target)){if(!r.hasClass(i))return r.addClass(i),n.attr("data-action","closeCityList"),!1}else r.removeClass(i),n.attr("data-action","openCityList")}),$(document).delegate("*[data-action=closeCityList]","click",function(e){var t=$(this),n="drop-select-open",r=t.parents(".dropCityWrap"),i=$(".dropCityDefault");if(r.length)return r.removeClass(n),i.attr("data-action","openCityList"),!1}),$(".withTooltip").tooltipster({content:"约见新行家的前两位学员有机会享受优惠破冰价，先抢先得哦",contentAsHTML:!0,position:"top-right",offsetX:15}),$(".withRatingTip").tooltipster({content:"话题分由在行系统算法综合学员的匿名评分以及多种因素得出，每增加三个评分，更新一次",contentAsHTML:!0,position:"top-right",offsetX:21})}),define("topicList",function(){})})();